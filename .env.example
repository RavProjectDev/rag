# =============================================================================
# RAG System Environment Configuration
# =============================================================================
# 
# This file contains all environment variables required to run the RAG system.
# Copy this file to .env and fill in your actual values.
#
# Installation:
#   1. Copy this file: cp .env.example .env
#   2. Install dependencies: pip install -r requirements.txt
#   3. For development: pip install -r requirements-dev.txt
#   4. Fill in the values below
#
# Requirements Files:
#   - requirements.txt: Production dependencies
#   - requirements-dev.txt: Development dependencies (testing, linting, formatting)
# =============================================================================

# -----------------------------------------------------------------------------
# Required: OpenAI Configuration
# -----------------------------------------------------------------------------
# OpenAI API key for LLM chat completions (GPT-4)
OPENAI_API_KEY=your_openai_api_key_here

# -----------------------------------------------------------------------------
# Required: Google Cloud Configuration
# -----------------------------------------------------------------------------
# Google Cloud Project ID for Vertex AI and Gemini services
GOOGLE_CLOUD_PROJECT_ID=your_google_cloud_project_id

# Gemini API key for embedding generation
GEMINI_API_KEY=your_gemini_api_key_here

# Vertex AI region (e.g., us-central1, us-east1)
VERTEX_REGION=us-central1

# Optional: Path to Google Cloud service account credentials JSON file
# If not provided, will use default credentials from the environment
# GOOGLE_APPLICATION_CREDENTIALS=/path/to/service-account-key.json

# -----------------------------------------------------------------------------
# Required: MongoDB Configuration
# -----------------------------------------------------------------------------
# MongoDB connection URI
# Format: mongodb://[username:password@]host[:port][/database][?options]
# Example: mongodb://localhost:27017
# Example with auth: mongodb://user:pass@host:27017/dbname?authSource=admin
MONGODB_URI=mongodb://localhost:27017

# MongoDB database name
MONGODB_DB_NAME=rag_database

# MongoDB collection name for vector embeddings
MONGODB_VECTOR_COLLECTION=embeddings

# MongoDB index name for vector search (default: vector_index)
COLLECTION_INDEX=vector_index

# Path to the vector field in MongoDB documents (default: vector)
VECTOR_PATH=vector

# -----------------------------------------------------------------------------
# Optional: Application Configuration
# -----------------------------------------------------------------------------
# Environment mode: PRD (Production), STG (Staging), or TEST (Testing)
# Default: STG
ENVIRONMENT=STG

# Authentication mode: dev (no auth required) or prd (JWT auth required)
# Default: dev
AUTH_MODE=dev

# Supabase project URL for JWKS (JSON Web Key Set) for JWT verification
# Required when AUTH_MODE=prd
# SUPABASE_URL=https://your-project.supabase.co

# External API timeout in seconds (default: 60)
EXTERNAL_API_TIMEOUT=60

# -----------------------------------------------------------------------------
# Optional: Embedding & LLM Model Configuration
# -----------------------------------------------------------------------------
# Embedding model configuration
# Options: GEMINI, BERT_SMALL, BERT_SMALL_TRANSLATED, MOCK
# Default: GEMINI
EMBEDDING_CONFIGURATION=GEMINI

# LLM model configuration
# Options: GPT_4, MOCK
# Default: GPT_4
LLM_CONFIGURATION=GPT_4

# -----------------------------------------------------------------------------
# Optional: MongoDB Collections for Metrics & Logging
# -----------------------------------------------------------------------------
# Collection name for storing metrics (default: metrics)
METRICS_COLLECTION=metrics

# Collection name for storing exceptions (default: exceptions)
EXCEPTIONS_COLLECTION=exceptions

# -----------------------------------------------------------------------------
# Optional: Document Retrieval Retry Configuration
# -----------------------------------------------------------------------------
# Timeout for document retrieval in milliseconds (default: 2000)
RETRIEVAL_TIMEOUT_MS=2000

# Maximum number of retry attempts for document retrieval (default: 3)
MAX_RETRY_ATTEMPTS=3

# Initial delay between retries in seconds (default: 1.0)
RETRY_DELAY_SECONDS=1.0

# Exponential backoff multiplier for retries (default: 2.0)
RETRY_BACKOFF_MULTIPLIER=2.0

# =============================================================================
# Notes:
# =============================================================================
# - All variables marked as "Required" must be set for the application to run
# - Variables marked as "Optional" have default values and can be omitted
# - Boolean values should be set as strings: "true" or "false"
# - Enum values (like ENVIRONMENT, AUTH_MODE) are case-sensitive
# - For production deployments, ensure AUTH_MODE=prd and SUPABASE_URL is set
# - The scheduler only runs in PRD environment (ENVIRONMENT=PRD)
# =============================================================================
